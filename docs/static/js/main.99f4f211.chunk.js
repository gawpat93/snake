(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){},13:function(t,e,a){t.exports=a(21)},20:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(11),o=a.n(i),r=(a(10),a(1)),c=a(2),l=a(4),d=a(3),h=a(5),u=a(7),m=a(12),b=(a(18),a(6)),p=a.n(b),y=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"modal fade",id:this.props.id,role:"dialog","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"The End"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},"Points: ",this.props.points),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){t.props.resetGame(),p()("#"+t.props.id).modal("hide")}},"Try again")))))}}]),e}(n.PureComponent),f={Game:{width:300,height:300,resolution:20,refreshRate:200}},g=f.Game,v=g.width,k=g.height,E=g.resolution,w=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this))).getFood=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=function(t){return Math.round(Math.random()*(t-E)/E)},n=a(v),s=a(k);e;){t.getSnake().find(function(t){return t.x===n&&t.y===s})?(n=a(v),s=a(k)):e=!1}return{x:n,y:s}},t.getSnake=function(){var e=t.state.snake;return null===e.tail||0===e.tail.length?[e.head,e.head]:[e.head,e.head].concat(Object(u.a)(e.tail))},t.moveSnake=function(){var e=t.state.snake,a={x:t.state.snake.head.x+t.state.snake.direction.x,y:t.state.snake.head.y+t.state.snake.direction.y};a.x>=v/E&&(a.x=0),a.x<0&&(a.x=v/E-1),a.y>=k/E&&(a.y=0),a.y<0&&(a.y=k/E-1),e.tail.find(function(t){return t.x===a.x&&t.y===a.y})&&(e.dead=!0,p()("#message").modal("show"));var n=t.state.food.x===a.x&&t.state.food.y===a.y;n?(t.props.changePointsSum(1),0===e.tail.length?e.tail=[e.head]:e.tail.length>0&&(e.tail=[e.head].concat(Object(u.a)(e.tail)))):1===e.tail.length?e.tail=[e.head]:e.tail.length>1&&(e.tail=[e.head].concat(Object(u.a)(e.tail)),e.tail.pop()),e.head=a,n?t.setState({snake:e,food:t.getFood()}):t.setState({snake:e})},t.changeDirection=function(e,a){var n=t.state.snake;n.direction.x===-e&&0!==e||n.direction.y===-a&&0!==a||(n.direction.x=e,n.direction.y=a,t.setState({snake:n}))},t.state={snake:{direction:{x:1,y:0},head:{x:2,y:0},tail:[],dead:!1},food:t.getFood(!1)},t}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keyup",function(e){"ArrowUp"===e.key?t.changeDirection(0,-1):"ArrowDown"===e.key?t.changeDirection(0,1):"ArrowLeft"===e.key?t.changeDirection(-1,0):"ArrowRight"===e.key&&t.changeDirection(1,0)}),document.getElementById("btnUp").addEventListener("click",function(){t.changeDirection(0,-1)}),document.getElementById("btnDown").addEventListener("click",function(){t.changeDirection(0,1)}),document.getElementById("btnRight").addEventListener("click",function(){t.changeDirection(1,0)}),document.getElementById("btnLeft").addEventListener("click",function(){t.changeDirection(-1,0)}),this.svg=m.a("#board").append("svg").attr("class","board").attr("width",v).attr("height",k),this.interval=setInterval(function(){t.moveSnake(),t.draw(),t.state.snake.dead&&clearInterval(t.interval)},this.props.refreshRate)}},{key:"draw",value:function(){this.svg.selectAll("rect").remove();var t=this.state.food;this.svg.append("rect").attr("x",t.x*E).attr("y",t.y*E).attr("width",E).attr("height",E).style("stroke","#28a745").style("stroke-width",1).attr("fill","#c3e6cb");var e=this.getSnake(),a=this.state.snake.dead?"red":"#28a745";this.svg.selectAll("rect").data(e).enter().append("rect").attr("x",function(t){return t.x*E}).attr("y",function(t){return t.y*E}).attr("width",E).attr("height",E).style("stroke","#d4edda").style("stroke-width",1).attr("fill",a)}},{key:"render",value:function(){var t="Food: x: ".concat(this.state.food.x,"  y:  ").concat(this.state.food.y,"\n\n    Head: x: ").concat(this.state.snake.head.x,"  y:  ").concat(this.state.snake.head.y,"\n");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"board",style:{width:"100%",height:"100%"}}),s.a.createElement("div",{className:"alert alert-success fade show",role:"alert"},t),s.a.createElement(y,{id:"message",points:this.props.getPoints(),resetGame:this.props.resetGame}))}}]),e}(n.Component),x=(a(20),function(){return s.a.createElement("div",{className:"mobileShow desktopHide controlButtons"},s.a.createElement("button",{type:"button",id:"btnUp",className:"btn btn-success btn-up"},"up"),s.a.createElement("button",{type:"button",id:"btnLeft",className:"btn btn-success btn-left"},"left"),s.a.createElement("button",{type:"button",id:"btnRight",className:"btn btn-success btn-right"},"right"),s.a.createElement("button",{type:"button",id:"btnDown",className:"btn btn-success btn-down"},"down"))}),j=f.Game.refreshRate,N=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).state={points:0,key:0},a.changePointsSum=function(t){var e=a.state.points;a.setState({points:e+t})},a.resetGame=function(){var t=a.state.key;a.setState({key:t+1,points:0})},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"text-success"},"Snake"),s.a.createElement("span",{className:"badge badge-dark"},this.state.points),s.a.createElement("hr",null),s.a.createElement(w,{key:this.state.key,data:this.state.data,refreshRate:j,changePointsSum:this.changePointsSum,getPoints:function(){return t.state.points},resetGame:this.resetGame}),s.a.createElement(x,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.99f4f211.chunk.js.map