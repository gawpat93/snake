(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},13:function(e,t,a){e.exports=a(20)},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),i=a.n(s),o=(a(10),a(1)),c=a(2),l=a(4),d=a(3),h=a(5),u=a(7),m=a(12),p=(a(18),a(6)),y=a.n(p),f=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal fade",id:this.props.id,role:"dialog","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"The End"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},"Points: ",this.props.points),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.props.resetGame(),y()("#"+e.props.id).modal("hide")}},"Try again")))))}}]),t}(n.PureComponent),v={Game:{width:300,height:300,resolution:20,refreshRate:200}},g=v.Game,k=g.width,b=g.height,w=g.resolution,x=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).getFood=function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=function(e){return Math.round(Math.random()*(e-w)/w)},n=a(k),r=a(b);t;){e.getSnake().find(function(e){return e.x===n&&e.y===r})?(n=a(k),r=a(b)):t=!1}return{x:n,y:r}},e.getSnake=function(){var t=e.state.snake;return null===t.tail||0===t.tail.length?[t.head,t.head]:[t.head,t.head].concat(Object(u.a)(t.tail))},e.moveSnake=function(){var t=e.state.snake,a={x:e.state.snake.head.x+e.state.snake.direction.x,y:e.state.snake.head.y+e.state.snake.direction.y};a.x>=k/w&&(a.x=0),a.x<0&&(a.x=k/w-1),a.y>=b/w&&(a.y=0),a.y<0&&(a.y=b/w-1),t.tail.find(function(e){return e.x===a.x&&e.y===a.y})&&(t.dead=!0,y()("#message").modal("show"));var n=e.state.food.x===a.x&&e.state.food.y===a.y;n?(e.props.changePointsSum(1),0===t.tail.length?t.tail=[t.head]:t.tail.length>0&&(t.tail=[t.head].concat(Object(u.a)(t.tail)))):1===t.tail.length?t.tail=[t.head]:t.tail.length>1&&(t.tail=[t.head].concat(Object(u.a)(t.tail)),t.tail.pop()),t.head=a,n?e.setState({snake:t,food:e.getFood()}):e.setState({snake:t})},e.changeDirection=function(t,a){var n=e.state.snake;n.direction.x===-t&&0!==t||n.direction.y===-a&&0!==a||(n.direction.x=t,n.direction.y=a,e.setState({snake:n}))},e.state={snake:{direction:{x:1,y:0},head:{x:2,y:0},tail:[],dead:!1},food:e.getFood(!1)},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",function(t){"ArrowUp"===t.key?e.changeDirection(0,-1):"ArrowDown"===t.key?e.changeDirection(0,1):"ArrowLeft"===t.key?e.changeDirection(-1,0):"ArrowRight"===t.key&&e.changeDirection(1,0)}),this.svg=m.a("#board").append("svg").attr("class","board").attr("width",k).attr("height",b),this.interval=setInterval(function(){e.moveSnake(),e.draw(),e.state.snake.dead&&clearInterval(e.interval)},this.props.refreshRate)}},{key:"draw",value:function(){this.svg.selectAll("rect").remove();var e=this.state.food;this.svg.append("rect").attr("x",e.x*w).attr("y",e.y*w).attr("width",w).attr("height",w).style("stroke","#28a745").style("stroke-width",1).attr("fill","#c3e6cb");var t=this.getSnake(),a=this.state.snake.dead?"red":"#28a745";this.svg.selectAll("rect").data(t).enter().append("rect").attr("x",function(e){return e.x*w}).attr("y",function(e){return e.y*w}).attr("width",w).attr("height",w).style("stroke","#d4edda").style("stroke-width",1).attr("fill",a)}},{key:"render",value:function(){var e="Food: x: ".concat(this.state.food.x,"  y:  ").concat(this.state.food.y,"\n\n    Head: x: ").concat(this.state.snake.head.x,"  y:  ").concat(this.state.snake.head.y,"\n");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"board",style:{width:"100%",height:"100%"}}),r.a.createElement("div",{className:"alert alert-success fade show",role:"alert"},e),r.a.createElement(f,{id:"message",points:this.props.getPoints(),resetGame:this.props.resetGame}))}}]),t}(n.Component),E=v.Game.refreshRate,j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={points:0,key:0},a.changePointsSum=function(e){var t=a.state.points;a.setState({points:t+e})},a.resetGame=function(){var e=a.state.key;a.setState({key:e+1,points:0})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"text-success"},"Snake"),r.a.createElement("span",{className:"badge badge-dark"},this.state.points),r.a.createElement("hr",null),r.a.createElement(x,{key:this.state.key,data:this.state.data,refreshRate:E,changePointsSum:this.changePointsSum,getPoints:function(){return e.state.points},resetGame:this.resetGame}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.be6490f5.chunk.js.map